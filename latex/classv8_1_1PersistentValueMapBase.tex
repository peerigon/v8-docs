\hypertarget{classv8_1_1PersistentValueMapBase}{}\section{v8\+:\+:Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$ Class Template Reference}
\label{classv8_1_1PersistentValueMapBase}\index{v8\+::\+Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$@{v8\+::\+Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$}}


{\ttfamily \#include $<$v8-\/util.\+h$>$}

Inheritance diagram for v8\+:\+:Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classv8_1_1PersistentValueMapBase}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1PersistentValueMapBase_1_1PersistentValueReference}{Persistent\+Value\+Reference}}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_a80da7adc6e8bdb166912075346116978}\label{classv8_1_1PersistentValueMapBase_a80da7adc6e8bdb166912075346116978}} 
\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$ {\bfseries Get\+Isolate} ()
\item 
size\+\_\+t \mbox{\hyperlink{classv8_1_1PersistentValueMapBase_ade5c5db2a968fdabe073649e85b837eb}{Size}} ()
\item 
bool \mbox{\hyperlink{classv8_1_1PersistentValueMapBase_a9f824b13dd30605589508db2740dd678}{Is\+Weak}} ()
\item 
\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ V $>$ \mbox{\hyperlink{classv8_1_1PersistentValueMapBase_a16b8f906ea42036c2f37d44813bf2a72}{Get}} (const K \&key)
\item 
bool \mbox{\hyperlink{classv8_1_1PersistentValueMapBase_a8c68e5f99c4042541c6d32232c97282a}{Contains}} (const K \&key)
\item 
bool \mbox{\hyperlink{classv8_1_1PersistentValueMapBase_a85201649d2bbd0ffdebe8be3d5c6447a}{Set\+Return\+Value}} (const K \&key, \mbox{\hyperlink{classv8_1_1ReturnValue}{Return\+Value}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$ return\+Value)
\item 
void \mbox{\hyperlink{classv8_1_1PersistentValueMapBase_a7d1cd63172b997dfaac9d0f009edd709}{Register\+Externally\+Referenced\+Object}} (K \&key)
\item 
\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$ \mbox{\hyperlink{classv8_1_1PersistentValueMapBase_abd75a4c050416712167ba0bb9eace097}{Remove}} (const K \&key)
\item 
void \mbox{\hyperlink{classv8_1_1PersistentValueMapBase_a1bf074e7a7c24713c9a3d40ddce89e74}{Clear}} ()
\item 
\mbox{\hyperlink{classv8_1_1PersistentValueMapBase_1_1PersistentValueReference}{Persistent\+Value\+Reference}} \mbox{\hyperlink{classv8_1_1PersistentValueMapBase_a52e74c69b94c7ce77a65af9f32d68af4}{Get\+Reference}} (const K \&key)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_a1adee3f8b1ff929f07ddf9e94c6108ed}\label{classv8_1_1PersistentValueMapBase_a1adee3f8b1ff929f07ddf9e94c6108ed}} 
{\bfseries Persistent\+Value\+Map\+Base} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate)
\item 
\mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_af2e83791955c6027213dd979eebeb8f4}\label{classv8_1_1PersistentValueMapBase_af2e83791955c6027213dd979eebeb8f4}} 
\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$ {\bfseries isolate} ()
\item 
\mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_aacd576258fbffaf366436a6ecdd8cdf5}\label{classv8_1_1PersistentValueMapBase_aacd576258fbffaf366436a6ecdd8cdf5}} 
Traits\+::\+Impl $\ast$ {\bfseries impl} ()
\item 
\mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_a5c16ace49c257f760c92a010a93b4884}\label{classv8_1_1PersistentValueMapBase_a5c16ace49c257f760c92a010a93b4884}} 
void {\bfseries Remove\+Weak} (const K \&key)
\end{DoxyCompactItemize}
\subsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_af8fcd471f2d53ffca9881f7c436044e8}\label{classv8_1_1PersistentValueMapBase_af8fcd471f2d53ffca9881f7c436044e8}} 
static V $\ast$ {\bfseries From\+Val} (Persistent\+Container\+Value v)
\item 
\mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_a7b083c75829bbc4177729ffe9827c4ac}\label{classv8_1_1PersistentValueMapBase_a7b083c75829bbc4177729ffe9827c4ac}} 
static Persistent\+Container\+Value {\bfseries Clear\+And\+Leak} (\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$ $\ast$persistent)
\item 
\mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_adacf68ca7b9fb19deab68711a70a8313}\label{classv8_1_1PersistentValueMapBase_adacf68ca7b9fb19deab68711a70a8313}} 
static Persistent\+Container\+Value {\bfseries Leak} (\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$ $\ast$persistent)
\item 
static \mbox{\hyperlink{classv8_1_1Global}{Global}}$<$ V $>$ \mbox{\hyperlink{classv8_1_1PersistentValueMapBase_a9ffa7a4e0c59121c0471d71c04112966}{Release}} (Persistent\+Container\+Value v)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename K, typename V, typename Traits$>$\newline
class v8\+::\+Persistent\+Value\+Map\+Base$<$ K, V, Traits $>$}

A map wrapper that allows using \mbox{\hyperlink{classv8_1_1Global}{Global}} as a mapped value. C++11 embedders don\textquotesingle{}t need this class, as they can use \mbox{\hyperlink{classv8_1_1Global}{Global}} directly in std containers.

The map relies on a backing map, whose type and accessors are described by the Traits class. The backing map will handle values of type Persistent\+Container\+Value, with all conversion into and out of \mbox{\hyperlink{classv8_1_1V8}{V8}} handles being transparently handled by this class. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_a1bf074e7a7c24713c9a3d40ddce89e74}\label{classv8_1_1PersistentValueMapBase_a1bf074e7a7c24713c9a3d40ddce89e74}} 
\index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Clear@{Clear}}
\index{Clear@{Clear}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection{\texorpdfstring{Clear()}{Clear()}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
void \mbox{\hyperlink{classv8_1_1PersistentValueMapBase}{v8\+::\+Persistent\+Value\+Map\+Base}}$<$ K, V, Traits $>$\+::Clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Traverses the map repeatedly, in case side effects of disposal cause insertions. \mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_a8c68e5f99c4042541c6d32232c97282a}\label{classv8_1_1PersistentValueMapBase_a8c68e5f99c4042541c6d32232c97282a}} 
\index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Contains@{Contains}}
\index{Contains@{Contains}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection{\texorpdfstring{Contains()}{Contains()}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
bool \mbox{\hyperlink{classv8_1_1PersistentValueMapBase}{v8\+::\+Persistent\+Value\+Map\+Base}}$<$ K, V, Traits $>$\+::Contains (\begin{DoxyParamCaption}\item[{const K \&}]{key }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Check whether a value is contained in the map. \mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_a16b8f906ea42036c2f37d44813bf2a72}\label{classv8_1_1PersistentValueMapBase_a16b8f906ea42036c2f37d44813bf2a72}} 
\index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Get@{Get}}
\index{Get@{Get}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection{\texorpdfstring{Get()}{Get()}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$V$>$ \mbox{\hyperlink{classv8_1_1PersistentValueMapBase}{v8\+::\+Persistent\+Value\+Map\+Base}}$<$ K, V, Traits $>$\+::Get (\begin{DoxyParamCaption}\item[{const K \&}]{key }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Get value stored in map. \mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_a52e74c69b94c7ce77a65af9f32d68af4}\label{classv8_1_1PersistentValueMapBase_a52e74c69b94c7ce77a65af9f32d68af4}} 
\index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Get\+Reference@{Get\+Reference}}
\index{Get\+Reference@{Get\+Reference}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection{\texorpdfstring{Get\+Reference()}{GetReference()}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
\mbox{\hyperlink{classv8_1_1PersistentValueMapBase_1_1PersistentValueReference}{Persistent\+Value\+Reference}} \mbox{\hyperlink{classv8_1_1PersistentValueMapBase}{v8\+::\+Persistent\+Value\+Map\+Base}}$<$ K, V, Traits $>$\+::Get\+Reference (\begin{DoxyParamCaption}\item[{const K \&}]{key }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Get a reference to a map value. This enables fast, repeated access to a value stored in the map while the map remains unchanged.

Careful\+: This is potentially unsafe, so please use with care. The value will become invalid if the value for this key changes in the underlying map, as a result of \mbox{\hyperlink{classv8_1_1Set}{Set}} or Remove for the same key; as a result of the weak callback for the same key; or as a result of calling \mbox{\hyperlink{classv8_1_1PersistentValueMapBase_a1bf074e7a7c24713c9a3d40ddce89e74}{Clear()}} or destruction of the map. \mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_a9f824b13dd30605589508db2740dd678}\label{classv8_1_1PersistentValueMapBase_a9f824b13dd30605589508db2740dd678}} 
\index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Is\+Weak@{Is\+Weak}}
\index{Is\+Weak@{Is\+Weak}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection{\texorpdfstring{Is\+Weak()}{IsWeak()}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
bool \mbox{\hyperlink{classv8_1_1PersistentValueMapBase}{v8\+::\+Persistent\+Value\+Map\+Base}}$<$ K, V, Traits $>$\+::Is\+Weak (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Return whether the map holds weak persistents. \mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_a7d1cd63172b997dfaac9d0f009edd709}\label{classv8_1_1PersistentValueMapBase_a7d1cd63172b997dfaac9d0f009edd709}} 
\index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Register\+Externally\+Referenced\+Object@{Register\+Externally\+Referenced\+Object}}
\index{Register\+Externally\+Referenced\+Object@{Register\+Externally\+Referenced\+Object}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection{\texorpdfstring{Register\+Externally\+Referenced\+Object()}{RegisterExternallyReferencedObject()}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
void \mbox{\hyperlink{classv8_1_1PersistentValueMapBase}{v8\+::\+Persistent\+Value\+Map\+Base}}$<$ K, V, Traits $>$\+::Register\+Externally\+Referenced\+Object (\begin{DoxyParamCaption}\item[{K \&}]{key }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Call V8\+::\+Register\+Externally\+Referenced\+Object with the map value for given key. \mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_a9ffa7a4e0c59121c0471d71c04112966}\label{classv8_1_1PersistentValueMapBase_a9ffa7a4e0c59121c0471d71c04112966}} 
\index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Release@{Release}}
\index{Release@{Release}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection{\texorpdfstring{Release()}{Release()}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
static \mbox{\hyperlink{classv8_1_1Global}{Global}}$<$V$>$ \mbox{\hyperlink{classv8_1_1PersistentValueMapBase}{v8\+::\+Persistent\+Value\+Map\+Base}}$<$ K, V, Traits $>$\+::Release (\begin{DoxyParamCaption}\item[{Persistent\+Container\+Value}]{v }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [protected]}}

Return a container value as \mbox{\hyperlink{classv8_1_1Global}{Global}} and make sure the weak callback is properly disposed of. All remove functionality should go through this. \mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_abd75a4c050416712167ba0bb9eace097}\label{classv8_1_1PersistentValueMapBase_abd75a4c050416712167ba0bb9eace097}} 
\index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Remove@{Remove}}
\index{Remove@{Remove}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection{\texorpdfstring{Remove()}{Remove()}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
\mbox{\hyperlink{classv8_1_1Global}{Global}}$<$V$>$ \mbox{\hyperlink{classv8_1_1PersistentValueMapBase}{v8\+::\+Persistent\+Value\+Map\+Base}}$<$ K, V, Traits $>$\+::Remove (\begin{DoxyParamCaption}\item[{const K \&}]{key }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Return value for key and remove it from the map. \mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_a85201649d2bbd0ffdebe8be3d5c6447a}\label{classv8_1_1PersistentValueMapBase_a85201649d2bbd0ffdebe8be3d5c6447a}} 
\index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Set\+Return\+Value@{Set\+Return\+Value}}
\index{Set\+Return\+Value@{Set\+Return\+Value}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection{\texorpdfstring{Set\+Return\+Value()}{SetReturnValue()}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
bool \mbox{\hyperlink{classv8_1_1PersistentValueMapBase}{v8\+::\+Persistent\+Value\+Map\+Base}}$<$ K, V, Traits $>$\+::Set\+Return\+Value (\begin{DoxyParamCaption}\item[{const K \&}]{key,  }\item[{\mbox{\hyperlink{classv8_1_1ReturnValue}{Return\+Value}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$}]{return\+Value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Get value stored in map and set it in return\+Value. Return true if a value was found. \mbox{\Hypertarget{classv8_1_1PersistentValueMapBase_ade5c5db2a968fdabe073649e85b837eb}\label{classv8_1_1PersistentValueMapBase_ade5c5db2a968fdabe073649e85b837eb}} 
\index{v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}!Size@{Size}}
\index{Size@{Size}!v8\+::\+Persistent\+Value\+Map\+Base@{v8\+::\+Persistent\+Value\+Map\+Base}}
\subsubsection{\texorpdfstring{Size()}{Size()}}
{\footnotesize\ttfamily template$<$typename K , typename V , typename Traits $>$ \\
size\+\_\+t \mbox{\hyperlink{classv8_1_1PersistentValueMapBase}{v8\+::\+Persistent\+Value\+Map\+Base}}$<$ K, V, Traits $>$\+::Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Return size of the map. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
v8/include/v8-\/util.\+h\end{DoxyCompactItemize}
